<!-- pages/impact_estimator.html -->
<div class="page-content">
    <h1>Impact Estimator</h1>
    <p>This tool provides a simplified, illustrative estimation of the potential impact of <a href="index.html#legislation">Section 899</a> based on hypothetical scenarios. It is for educational purposes only and should <strong>not</strong> be considered financial or legal advice.</p>

    <div id="example-jump-links-container" class="card jump-links-section" style="margin-bottom: 20px; padding: 15px;">
        <h3>Quick Jump to Examples:</h3>
        <div id="example-jump-links">
            <!-- Links will be populated here by JavaScript -->
        </div>
    </div>

    <section id="flowchart-section" class="card">
        <h2>Decision Flowchart</h2>
        <p>The following flowchart illustrates the general decision points related to <a href="index.html#legislation">Section 899</a> applicability. Use the form below to estimate impacts for specific scenarios.</p>
        <div id="impact-estimator-flowchart-content">
            <!-- Content from impact_estimator.json (e.g., Mermaid diagram) will be rendered here by impact_estimator.js -->
        </div>
    </section>

    <section id="estimator-form-section" class="card">
        <h2>3.1 Input Section</h2>
        <form id="impact-estimator-form">
            <div class="form-group">
                <label for="entity-type">Entity Type:</label>
                <select id="entity-type" name="entity-type">
                    <option value="corporation">Corporation</option>
                    <option value="individual">Individual</option>
                    <option value="other">Other</option>
                </select>
            </div>

            <div class="form-group">
                <label for="country-import">Country of Import/Transaction:</label>
                <select id="country-import" name="country-import">
                    <option value="">-- Select a Country --</option>
                    <!-- Options to be populated from tax_data.json or dynamically -->
                    <option value="country_a">Country A (Example from tax_data.json)</option>
                    <option value="country_b">Country B (Example from tax_data.json)</option>
                    <option value="country_c">Country C (Example from tax_data.json)</option>
                    <option value="other_country">Other (Not Listed)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="taxable-amount">Taxable Amount (USD):</label>
                <input type="number" id="taxable-amount" name="taxable-amount" placeholder="e.g., 100000" required>
            </div>
            
            <div class="form-group">
                <label for="tax-year">Tax Year:</label>
                <input type="number" id="tax-year" name="tax-year" placeholder="e.g., 2025" value="2025">
            </div>

            <div class="form-group">
                <label for="applicable-date">Applicable Date / Year for ยง899 Rate:</label>
                <input type="number" id="applicable-date" name="applicable-date" placeholder="e.g., 2025" value="2025">
                <small>This determines the surcharge ramp-up percentage.</small>
            </div>

            <div class="form-group">
                <label for="country-status">Country Status for ยง899:</label>
                <select id="country-status" name="country-status">
                    <option value="listed">Designated as Discriminatory</option>
                    <option value="hypothetical">Hypothetically Discriminatory</option>
                    <option value="not_listed">Not Listed / Not Discriminatory</option>
                </select>
            </div>

            <div class="form-group">
                <label for="scenario-preset">Scenario Preset:</label>
                <select id="scenario-preset" name="scenario-preset">
                    <option value="none">None (Custom Input)</option>
                    <option value="dst">Digital Services Tax (DST) Scenario</option>
                    <option value="utpr">Unfair Tax Practice (UTPR-like) Scenario</option>
                    <option value="extraterritorial">Extraterritorial Tax Scenario</option>
                </select>
            </div>

            <div class="form-group">
                <label for="special-circumstances">Special Circumstances (Optional):</label>
                <textarea id="special-circumstances" name="special-circumstances" rows="3" placeholder="Briefly describe any special conditions, e.g., treaty benefits claimed, specific industry."></textarea>
            </div>

            <button type="submit">Calculate Estimated Impact</button>
        </form>
    </section>

    <section id="results-section" class="card">
        <h2>3.2 Results Section</h2>
        <div id="calculator-results">
            <p>Your estimated impact will be displayed here after submitting the form. This will include:</p>
            <ul>
                <li>Base tax amount (hypothetical, before ยง899).</li>
                <li>Calculated Section 899 adjustment/increase.</li>
                <li>Total estimated tax due (hypothetical, with ยง899).</li>
                <li>A brief explanation of the calculation based on inputs.</li>
                <li>Suggested next steps or considerations (educational).</li>
            </ul>
        </div>
    </section>

    <section id="examples-section" class="card">
        <h2>3.3 Examples</h2>
        <div id="estimator-examples-content">
            <!-- Examples will be loaded here by impact_estimator.js -->
        </div>
    </section>

    <p class="disclaimer"><strong>Important:</strong> Calculations are based on simplified assumptions and placeholder data. They do not reflect the full complexity of Section 899 or actual tax liabilities. Always consult with a qualified professional for advice relevant to your specific situation.</p>
</div>
